<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="t_report_mongodb">
    <title>Generating textual output of vpuserinfo.nsf into CSV files</title>
    <taskbody>
        <context>
            <p>The first step to update existing directory information is to extract data from the
                NSF file and then exporting the core data into your Docker container.</p>
        </context>
        <steps>
            <step>
                <cmd>Create two CSV files in the trace folder that captures the vpuserinfo.nsf
                    tables for user's contact list, alert me list, and privacy list. Ensure that the
                    CSV file name syntax is followed.</cmd>
                <info>
                    <p>For the contact list and alert me
                        list:<codeblock id="codeblock_ldw_11b_nvb">ConvertStorage_110308_0548.csv</codeblock></p>
                    <p>For the privacy
                        list:<codeblock id="codeblock_dvs_n1b_nvb">ConvertPrivacy_110308_0548.csv</codeblock></p>
                </info>
            </step>
            <step>
                <cmd>Copy the CSV files into an accessible read or writable location.</cmd>
            </step>
            <step>
                <cmd>Edit the .env file used to contain the environment variables. Follow the syntax
                    below.</cmd>
                <info>
                    <codeblock id="codeblock_zkj_bfh_mvb">MONGO_CONNECTION_URL=mongodb://sametimeUser:xxxxxxxx@192.168.1.1:27017/admin?authSource=admin&amp;authMechanism=SCRAM-SHA-256&amp;readPreference=primary&amp;directConnection=true&amp;ssl=false
USER_ID_CSV=/data/test_id.csv</codeblock>
                </info>
            </step>
            <step>
                <cmd>Run the command below manually on a stand-alone community server or on a server
                    in a cluster which replicates the change throughout the cluster. The CSV file is
                    mounted in the container for the application to access and process.</cmd>
                <info>
                    <codeblock id="codeblock_jwv_y3b_nvb">docker run -v local.csv:/data/local.csv --env-file default.env docker-prod.artifactory.cwp.pnp-hcl.com/name-change-prod</codeblock>
                </info>
            </step>
        </steps>
        <postreq id="postreq_iz4_3jb_nvb">
            <p>The second part of the CSV file includes one line for each change that includes the
                old name, the new name, and, optionally, the new display name. The topics in this
                section show how you can set up the CSV file to complete specific tasks.</p>
        </postreq>
    </taskbody>
</task>
