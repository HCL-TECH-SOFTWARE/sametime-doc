<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us" whc:version="22.0">
    <head><link rel="shortcut icon" href="favicon.png"><!----></link><link rel="icon" href="favicon.png"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta charset="UTF-8"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="task"/><meta name="description" content="About this task The changes in this task affect the following pods: community mux proxy Procedure Find the idpUrl value. Modify the user access URL that was provided by your identity provider so that ..."/><meta name="DC.relation" scheme="URI" content="enabling_sso_saml.html"/><meta name="rights" content="© 1998, 2022 "/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="enabling_saml_kubernetes"/><meta name="DC.language" content="en-us"/>        
      <title>Configuring SAML in Kubernetes</title><!--  Generated with Oxygen version 23.1, build number 2021121413.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="enabling_saml_kubernetes-d1907e2368"/><meta name="wh-source-relpath" content="enabling_saml_kubernetes.dita"/><meta name="wh-out-relpath" content="enabling_saml_kubernetes.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2021121413"/>
    
    
    <script type="text/javascript" src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"><!----></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/oxygen.css?buildId=2021121413"/>
    <!-- Global site tag (gtag.js) - Google Analytics start-->
   <!-- Global site tag (gtag.js) - Google Analytics -->
<script src="https://www.googletagmanager.com/gtag/js?id=UA-169645537-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169645537-2');
</script>

    <!-- Global site tag (gtag.js) - Google Analytics end-->

    <script type="module" src="./oxygen-webhelp/template/resources/js/custom-hcl.js"></script>
    <script type="module" src="./oxygen-webhelp/template/resources/js/constants.js"></script>
    <script type="module" src="./oxygen-webhelp/template/resources/js/lang.js"></script>
    <!-- <link rel="stylesheet" type="text/css" href="${oxygen-webhelp-template-dir}/resources/css/custom-hcl.css" /> -->

    <!-- OneTrust Cookies Consent Notice start -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/99b8d579-c52a-43c9-ab7b-a35e60de7103/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="99b8d579-c52a-43c9-ab7b-a35e60de7103"></script>
    <script type="text/javascript">
        function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end -->

    <!-- twitter widget -->
    <script async="true" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

    <body id="enabling_saml_kubernetes" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        <!-- 
Release Version: v.Q32021  
--><nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand" href="https://www.hcltechsw.com/wps/portal/hclsw-home" style="vertical-align: unset;">
        <img width="150" height="50" src="https://help.hcltechsw.com/assets/images/HCL_Software_Logo_White.svg" alt="HCL Logo" target="_blank"/>
    </a>
    <a href="https://help.hcltechsw.com/">
        <span id="brandName" class="title" style="vertical-align: middle; font-size: 16px; color:#ffffff;">Product Documentation</span>
    </a>

    <div id="learningAcademyLink" style="margin-left: 20px;"> 
        <a id="learningAcademy" class="nav-link" style="color:#ffffff;padding-right: 20px;" href="https://academy.hcltechsw.com">Learning Academy</a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" style="color:#ffffff;" href="https://support.hcltechsw.com/csm?id=csm_index">Customer Support</a>
            </li>
        </ul>
    </div>
</nav>
        
        
        <header class="navbar navbar-default wh_header" whc:version="23.1">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    
                    <div class=" wh_publication_title "><a href="index.html"><span class="title">HCL Sametime®Administration Guide 12.0.1</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                <button type="button" data-target="#wh_top_menu_and_indexterms_link" id="wh_menu_mobile_button" data-toggle="collapse" class="navbar-toggler collapsed wh_toggle_button" aria-expanded="false" aria-label="Toggle menu" aria-controls="wh_top_menu_and_indexterms_link">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                <nav class=" wh_top_menu " aria-label="Menu Container"><ul role="menubar" aria-label="Menu"><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="administrator_doc-d1907e26-mi" data-tocid="administrator_doc-d1907e26" data-state="not-ready" class=" topicref " data-id="administrator_doc"><span class="title"><a href="administrator_doc.html">HCL Sametime® Administration Guide 12.0.1</a></span></span></li></ul></nav>
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <!-- Search form -->
        <div xmlns:oxyf="http://www.oxygenxml.com/functions" xmlns="" class="custom-search-component"><div xmlns="http://www.w3.org/1999/xhtml" class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div></form>
            
            
            
        </div><!-- 
Release Version: v.Q32021  
--><div xmlns="http://www.w3.org/1999/xhtml" class="after-search">
    <div class="version-container">
        <select id="versions" class="custom-select custom-select-md lang-selector" data-toggle="tooltip" title="Select a version">
        </select>
    </div>
    <div class="language-container">
      <!--  <label class="lang-label" for="languages">Language:</label> -->
        <select id="languages" class="custom-select custom-select-md lang-selector" data-toggle="tooltip" title="Select a language">
        </select>  
    </div>
</div></div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><span class="topicref" data-id="administrator_doc"><span class="title"><a href="administrator_doc.html">HCL Sametime® Administration Guide 12.0.1</a></span></span></li><li><span class="topicref" data-id="securing"><span class="title"><a href="securing.html">Securing</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides information on securing your  HCL Sametime         environments.</p></span></span></span></li><li><span class="topicref" data-id="enabling_sso"><span class="title"><a href="enabling_sso.html">Enabling Single Sign-on</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The HCL Sametime server installer enables required JSON Web Token (JWT)         authentication. Additionally, the Sametime server supports Security Assertion Markup         Language (SAML) and Lightweight Third Party Authentication (LTPA) Single Sign-on         (SSO).</p></span></span></span></li><li><span class="topicref" data-id="enabling_sso_saml"><span class="title"><a href="enabling_sso_saml.html">Setting up SSO using SAML</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">You can implement SSO into your environment using Security Assertion Markup Language         (SAML). The process is different for Kubernetes and Docker.</p></span></span></span></li><li class="active"><span class="topicref" data-id="enabling_saml_kubernetes"><span class="title"><a href="enabling_saml_kubernetes.html">Configuring SAML in Kubernetes</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc"></p></span></span></span></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  </span></div>
                        
                        <!-- External resource link -->
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <!-- Expand/Collapse publishing TOC 
                             The menu button for mobile devices is copied in the output only when the publication TOC is available
                        -->
                        <button type="button" data-target="#wh_publication_toc" id="wh_toc_button" data-toggle="collapse" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        
                        <nav id="wh_publication_toc" class="collapse col-lg-3 col-md-3 col-sm-12 d-md-block d-print-none" aria-label="Table of Contents Container">
                            <div class=" wh_publication_toc " data-tooltip-position="right"><ul role="tree" aria-label="Table of Contents"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem" aria-expanded="true"><span data-tocid="administrator_doc-d1907e26" class="topicref" data-id="administrator_doc" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action administrator_doc-d1907e26-link" class="wh-expand-btn"></span><span class="title"><a href="administrator_doc.html" id="administrator_doc-d1907e26-link">HCL Sametime® Administration Guide 12.0.1</a></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><span data-tocid="over_accessibility-d1907e45" class="topicref" data-id="over_accessibility" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="over_accessibility.html" id="over_accessibility-d1907e45-link">Accessibility features for Sametime</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Accessibility features help users who have a disability, such as restricted mobility or limited vision, to use information technology products successfully. HCL® strives to provide products with usable access for everyone.</p></span></span></span></li><li role="treeitem"><span data-tocid="whats_new-d1907e67" class="topicref" data-id="whats_new" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="whats_new.html" id="whats_new-d1907e67-link">New features in Sametime 12.0.1</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The current version of HCL Sametime and HCL Sametime Premium includes new features         and enhancements.</p></span></span></span></li><li role="treeitem"><span data-tocid="overview_encryption-d1907e86" class="topicref" data-id="overview_encryption" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="overview_encryption.html" id="overview_encryption-d1907e86-link">Encryption usage in Sametime</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">HCL® Sametime® uses several types of encryption to protect data.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="planning-d1907e105" class="topicref" data-id="planning" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action planning-d1907e105-link" class="wh-expand-btn"></span><span class="title"><a href="planning.html" id="planning-d1907e105-link">Planning</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes the system requirements and server configurations needed for HCL         Sametime and HCL Sametime Premium.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="installing-d1907e602" class="topicref" data-id="installing" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action installing-d1907e602-link" class="wh-expand-btn"></span><span class="title"><a href="installing.html" id="installing-d1907e602-link">Installing</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides information on installing and configuring the servers for HCL Sametime and HCL Sametime Premium.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="configuring-d1907e1101" class="topicref" data-id="configuring" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action configuring-d1907e1101-link" class="wh-expand-btn"></span><span class="title"><a href="configuring.html" id="configuring-d1907e1101-link">Configuring</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides information on configuring the HCL Sametime server.</p></span></span></span></li><li role="treeitem" aria-expanded="true"><span data-tocid="securing-d1907e2053" class="topicref" data-id="securing" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action securing-d1907e2053-link" class="wh-expand-btn"></span><span class="title"><a href="securing.html" id="securing-d1907e2053-link">Securing</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides information on securing your  HCL Sametime         environments.</p></span></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><span data-tocid="securing_connections-d1907e2072" class="topicref" data-id="securing_connections" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action securing_connections-d1907e2072-link" class="wh-expand-btn"></span><span class="title"><a href="securing_connections.html" id="securing_connections-d1907e2072-link">Securing connections</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The various connections to Sametime can be secured using TLS. </p></span></span></span></li><li role="treeitem" aria-expanded="true"><span data-tocid="enabling_sso-d1907e2198" class="topicref" data-id="enabling_sso" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action enabling_sso-d1907e2198-link" class="wh-expand-btn"></span><span class="title"><a href="enabling_sso.html" id="enabling_sso-d1907e2198-link">Enabling Single Sign-on</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The HCL Sametime server installer enables required JSON Web Token (JWT)         authentication. Additionally, the Sametime server supports Security Assertion Markup         Language (SAML) and Lightweight Third Party Authentication (LTPA) Single Sign-on         (SSO).</p></span></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><span data-tocid="enabling_sso_ltpa-d1907e2217" class="topicref" data-id="enabling_sso_ltpa" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action enabling_sso_ltpa-d1907e2217-link" class="wh-expand-btn"></span><span class="title"><a href="enabling_sso_ltpa.html" id="enabling_sso_ltpa-d1907e2217-link">Setting up SSO using LTPA</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">You can implement SSO into your environment using Lightweight Third Party         Authentication (LTPA) which requires LTPA keys. </p></span></span></span></li><li role="treeitem" aria-expanded="true"><span data-tocid="enabling_sso_saml-d1907e2331" class="topicref" data-id="enabling_sso_saml" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action enabling_sso_saml-d1907e2331-link" class="wh-expand-btn"></span><span class="title"><a href="enabling_sso_saml.html" id="enabling_sso_saml-d1907e2331-link">Setting up SSO using SAML</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">You can implement SSO into your environment using Security Assertion Markup Language         (SAML). The process is different for Kubernetes and Docker.</p></span></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><span data-tocid="enabling_saml_docker-d1907e2350" class="topicref" data-id="enabling_saml_docker" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="enabling_saml_docker.html" id="enabling_saml_docker-d1907e2350-link">Configuring SAML on Docker</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc"></p></span></span></span></li><li role="treeitem" class="active"><span data-tocid="enabling_saml_kubernetes-d1907e2368" class="topicref" data-id="enabling_saml_kubernetes" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="enabling_saml_kubernetes.html" id="enabling_saml_kubernetes-d1907e2368-link">Configuring SAML in Kubernetes</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc"></p></span></span></span></li></ul></li></ul></li><li role="treeitem"><span data-tocid="security_mongodb-d1907e2386" class="topicref" data-id="security_mongodb" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="security_mongodb.html" id="security_mongodb-d1907e2386-link">Enabling security in the MongoDB</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">To enable MongoDB securing, edit the <span class="ph filepath">mongod.conf</span> file <span class="ph uicontrol">authorization: enabled</span> setting.</p></span></span></span></li><li role="treeitem"><span data-tocid="security_mongodb_tls-d1907e2411" class="topicref" data-id="security_mongodb_tls" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="security_mongodb_tls.html" id="security_mongodb_tls-d1907e2411-link">Enabling TLS for the Mongo database</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">You can update the MongoDB connection with the Sametime Community server to encrypt data flowing between the Sametime server and a TLS enabled MongoDB.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="updating_meeting_servers-d1907e2430" class="topicref" data-id="updating_meeting_servers" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action updating_meeting_servers-d1907e2430-link" class="wh-expand-btn"></span><span class="title"><a href="updating_meeting_servers.html" id="updating_meeting_servers-d1907e2430-link">Updating the Sametime server TLS certificates</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The Sametime server is pre-configured with a self-signed certificate. You can replace         the self-signed certificate with a third party certificate.</p></span></span></span></li><li role="treeitem"><span data-tocid="using_meeting_servers-d1907e2487" class="topicref" data-id="using_meeting_servers" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="using_meeting_servers.html" id="using_meeting_servers-d1907e2487-link">Applying Let's Encrypt certificates</a></span></span></li></ul></li><li role="treeitem" aria-expanded="false"><span data-tocid="administering-d1907e2503" class="topicref" data-id="administering" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action administering-d1907e2503-link" class="wh-expand-btn"></span><span class="title"><a href="administering.html" id="administering-d1907e2503-link">Administering</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides information on administering on Sametime         environments.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="troubleshooting-d1907e4653" class="topicref" data-id="troubleshooting" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action troubleshooting-d1907e4653-link" class="wh-expand-btn"></span><span class="title"><a href="troubleshooting.html" id="troubleshooting-d1907e4653-link">Troubleshooting</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides information on troubleshooting and supporting Sametime                 environments.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="migrating-d1907e4798" class="topicref" data-id="migrating" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action migrating-d1907e4798-link" class="wh-expand-btn"></span><span class="title"><a href="migrating.html" id="migrating-d1907e4798-link">Migrating and Upgrading</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides information on migrating data from an earlier release to         Sametime 12.</p></span></span></span></li><li role="treeitem"><span data-tocid="booknotices-d1907e4995" class="topicref" data-id="booknotices" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="notices.html" id="booknotices-d1907e4995-link">Notices</a></span></span></li></ul></li></ul></div>
                        </nav>
                        
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1">
    <h1 class="- topic/title title topictitle1" id="ariaid-title1">Configuring SAML in Kubernetes</h1>
    
    <div class="- topic/body task/taskbody body taskbody"><p class="- topic/shortdesc shortdesc"></p>
        <section class="- topic/section task/context section context" id="enabling_saml_kubernetes__context_rbr_21d_d5b" data-ofbid="enabling_saml_kubernetes__context_rbr_21d_d5b"><div class="tasklabel"><h2 class="sectiontitle tasklabel">About this task</h2></div>
            <div class="- topic/p p">The changes in this task affect the following pods:<ul class="- topic/ul ul" id="enabling_saml_kubernetes__ul_yqd_j1d_d5b" data-ofbid="enabling_saml_kubernetes__ul_yqd_j1d_d5b">
                    <li class="- topic/li li">community</li>
                    <li class="- topic/li li">mux</li>
                    <li class="- topic/li li">proxy</li>
                </ul></div>
        </section>
        <section id="enabling_saml_kubernetes__steps_gd3_gcl_qtb" data-ofbid="enabling_saml_kubernetes__steps_gd3_gcl_qtb" class="- topic/ol task/steps ol steps"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="- topic/ol task/steps ol steps" id="enabling_saml_kubernetes__steps_gd3_gcl_qtb" data-ofbid="enabling_saml_kubernetes__steps_gd3_gcl_qtb"><li class="- topic/li task/step li step">
                <span class="- topic/ph task/cmd ph cmd">Find the <span class="+ topic/ph ui-d/uicontrol ph uicontrol">idpUrl</span> value.</span>
                <ol type="a" class="- topic/ol task/substeps ol substeps" id="enabling_saml_kubernetes__substeps_n2g_lcl_qtb" data-ofbid="enabling_saml_kubernetes__substeps_n2g_lcl_qtb">
                    <li class="- topic/li task/substep li substep">
                        <span class="- topic/ph task/cmd ph cmd">Modify the user access URL that was provided by your identity provider
                            so that users are redirected properly.</span>
                    </li>
                    <li class="- topic/li task/substep li substep">
                        <span class="- topic/ph task/cmd ph cmd">Append the IdP user access URL with
                                <code class="+ topic/ph pr-d/codeph ph codeph">?TARGET=https://fully_qualified_hostname/chat</code>.</span>
                    </li>
                </ol>
                <div class="- topic/itemgroup task/stepxmp itemgroup stepxmp">For example, if the following exists:<ul class="- topic/ul ul" id="enabling_saml_kubernetes__ul_awl_42q_15b" data-ofbid="enabling_saml_kubernetes__ul_awl_42q_15b">
                        <li class="- topic/li li">IdP user access URL is <span class="+ topic/ph sw-d/filepath ph filepath">
                                https://idp.example.com/example_tenant&amp;appid=1234</span></li>
                        <li class="- topic/li li">Sametime fully qualified host name is
                                <span class="+ topic/ph sw-d/filepath ph filepath">sametime.example.com</span>. </li>
                    </ul>The resulting URL
                        is<p class="- topic/lines lines" id="enabling_saml_kubernetes__lines_plk_3fq_15b" data-ofbid="enabling_saml_kubernetes__lines_plk_3fq_15b"><span class="+ topic/ph sw-d/filepath ph filepath"> https://idp.example.com/example_tenant&amp;appid=1234?TARGET=https://sametime.example.com/chat</span></p><p class="- topic/p p">If
                        you are using a different host name for meetings and webchat, use the host
                        name for th e webchat
                        client.<p class="- topic/lines lines" id="enabling_saml_kubernetes__lines_lpx_hfq_15b" data-ofbid="enabling_saml_kubernetes__lines_lpx_hfq_15b"><span class="+ topic/ph sw-d/filepath ph filepath">https://idp.example.com/exampletenant&amp;appid=1234?TARGET=https://webchat.example.com/chat</span></p></p></div>
            </li><li class="- topic/li task/step li step">
                <span class="- topic/ph task/cmd ph cmd">Configure the Sametime server to use SAML.</span>
                <ol type="a" class="- topic/ol task/substeps ol substeps" id="enabling_saml_kubernetes__substeps_qpb_vcl_qtb" data-ofbid="enabling_saml_kubernetes__substeps_qpb_vcl_qtb">
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Retrieve the certificate from your IdP and create a trust store in p12
                            format named <span class="+ topic/ph ui-d/uicontrol ph uicontrol">samltruststore.p12</span>. If your IdP
                            provides more than one certificate, all certificates must be added to
                            the trust store.</span>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Create a secret with your trust store.</span>
                        <div class="- topic/itemgroup task/info itemgroup info"><pre class="+ topic/pre pr-d/codeblock pre codeblock" id="enabling_saml_kubernetes__codeblock_whq_ztl_qtb" data-ofbid="enabling_saml_kubernetes__codeblock_whq_ztl_qtb"><code>kubectl create secret generic saml-secret --from-literal=KeyStorePassword=<var class="+ topic/keyword sw-d/varname keyword varname">password</var> --from-file=samltruststore.p12</code></pre>Where
                                <var class="+ topic/keyword sw-d/varname keyword varname">password</var> is the password for the keystore. If you
                            are using a namespace for Sametime, include the namespace argument in
                            the command to ensure the secret is located in the same namespace as
                            Sametime.</div>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Change directories to helm in the location where the Sametime install
                            was decompressed.</span>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Open the <span class="+ topic/ph sw-d/filepath ph filepath">values.yaml</span> file in edit mode.</span>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Remove the comment character (#) from the following line.</span>
                        <div class="- topic/itemgroup task/info itemgroup info"><code class="+ topic/ph pr-d/codeph ph codeph"># samlConfigSecret: saml-secret</code></div>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Type the IdP URL as the value for the <span class="+ topic/ph ui-d/uicontrol ph uicontrol">idpUrl</span>
                            parameter. </span>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Add the following line below the <span class="+ topic/ph ui-d/uicontrol ph uicontrol">idpUrl</span>
                            line.</span>
                        <div class="- topic/itemgroup task/info itemgroup info">
                            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="enabling_saml_kubernetes__codeblock_vh2_kv3_rtb" data-ofbid="enabling_saml_kubernetes__codeblock_vh2_kv3_rtb"><code>ReactAppShowGuestLoginByDefault: true</code></pre>
                        </div>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Save and close the <span class="+ topic/ph sw-d/filepath ph filepath">values.yaml</span> file.</span>
                    </li>
                </ol>
            </li><li class="- topic/li task/step li step">
                <span class="- topic/ph task/cmd ph cmd">Apply your changes to the environment.</span>
                <div class="- topic/itemgroup task/info itemgroup info">Verify that you are in the <span class="+ topic/ph sw-d/filepath ph filepath">helm</span> directory and run the
                    following command to apply changes. Specify the Sametime deployment name for
                    your environment. The default for Sametime Premium version 12 is
                        <span class="+ topic/keyword pr-d/parmname keyword parmname">sametime</span>.<pre class="+ topic/pre pr-d/codeblock pre codeblock" id="enabling_saml_kubernetes__d23e169" data-ofbid="enabling_saml_kubernetes__d23e169"><code>helm upgrade <var class="+ topic/keyword sw-d/varname keyword varname">sametime_deployment_name</var> .</code></pre><div class="- topic/note note note note_note" id="enabling_saml_kubernetes__d23e174" data-ofbid="enabling_saml_kubernetes__d23e174"><span class="note__title">Note:</span> Be sure to include the dot at the end. It is part of
                        the command.</div></div>
                <div class="- topic/itemgroup task/info itemgroup info">If you are unsure of your deployment name, issue the <span class="+ topic/keyword sw-d/cmdname keyword cmdname">helm
                        list</span> command to find the name. If you upgraded from an earlier
                    Sametime release, the default name is
                    <span class="+ topic/keyword pr-d/parmname keyword parmname">sametime-meetings</span>.</div>
            </li><li class="- topic/li task/step li step">
                <span class="- topic/ph task/cmd ph cmd">Restart the pods with the changes. Use the <span class="+ topic/keyword sw-d/cmdname keyword cmdname">kubectl scale</span>
                    command to scale the pods to zero and then to one that have been changed. You
                    must run the commands for each pod that the change affects.</span>
                <ol type="a" class="- topic/ol task/substeps ol substeps" id="enabling_saml_kubernetes__d24e33" data-ofbid="enabling_saml_kubernetes__d24e33">
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Run the following command to scale the pod to zero.</span>
                        <div class="- topic/itemgroup task/info itemgroup info">Scale the pod to zero, where <var class="+ topic/keyword sw-d/varname keyword varname">pod_deployment_name</var> is
                            the pod name.<pre class="+ topic/pre pr-d/codeblock pre codeblock" id="enabling_saml_kubernetes__d24e45" data-ofbid="enabling_saml_kubernetes__d24e45"><code>
kubectl scale deploy <var class="+ topic/keyword sw-d/varname keyword varname">pod_deployment_name</var> --replicas=0
</code></pre></div>
                    </li>
                    <li class="- topic/li task/substep li substep substepexpand">
                        <span class="- topic/ph task/cmd ph cmd">Run the following command to scale the pod to one.</span>
                        <div class="- topic/itemgroup task/info itemgroup info">
                            <pre class="+ topic/pre pr-d/codeblock pre codeblock" id="enabling_saml_kubernetes__d24e59" data-ofbid="enabling_saml_kubernetes__d24e59"><code>
kubectl scale deploy <var class="+ topic/keyword sw-d/varname keyword varname">pod_deployment_name</var> --replicas=1</code></pre>
                        </div>
                    </li>
                </ol>
            </li></ol></section>
    </div>
</article></main></div>
                        
                        
                        
                        
                        
                        
        <meta charset="UTF-8"/>
    
        <hr/>
        <div class="ratingForm">
            <div class="form-group">
                <legend id="ratingStarLabel">Rate this topic</legend>
                <div class="rate">
                    <input type="radio" id="star5" name="rate" value="5"/>
                    <label for="star5" title="text">5 stars</label>
                    <input type="radio" id="star4" name="rate" value="4"/>
                    <label for="star4" title="text">4 stars</label>
                    <input type="radio" id="star3" name="rate" value="3"/>
                    <label for="star3" title="text">3 stars</label>
                    <input type="radio" id="star2" name="rate" value="2"/>
                    <label for="star2" title="text">2 stars</label>
                    <input type="radio" id="star1" name="rate" value="1"/>
                    <label for="star1" title="text">1 star</label>
                </div>
            </div>
			<br/>
			<br/>
            <div class="form-group">
                <legend id="ratingCommentLabel">Comment on this topic.</legend>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="rateCheck"/>
                    <label class="form-check-label" for="rateCheck" id="rateCheckLabel">
                        By clicking this box, you acknowledge that you are NOT a U.S. Federal Government 
                        employee or agency, nor are you  submitting information with respect to or on behalf 
                        of one. HCL provides software and services to U.S. Federal Government customers through 
                        its partners immixGroup, Inc. Contact this team at <a href="https://hcltechsw.com/resources/us-government-contact">https://hcltechsw.com/resources/us-government-contact</a>.  Do not include any personal data in this Comment box.
                    </label>
                    <label class="form-check-label" for="rateCheck" id="rateCheckNoteLabel">
                        Note: To report a problem or question about the product software, do not use this form. 
                        Instead, go to the <a href="https://support.hcltech.com/csm">HCL Software Support</a> site.
                    </label>
                </div>
                <textarea class="form-control form-control-lg" id="rate-comment" rows="3" disabled="true"></textarea>
            </div>
            <input type="button" id="rate-submit" class="btn btn-primary btn-lg" value="Submit" disabled="true"> </input>
        </div>
    
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer" whc:version="23.1">
  <div class=" footer-container mx-auto ">
    <!-- 
Release Version: v.Q32021  
--><div class="footer">
	<div class="footer-left">
		<ul class="nav share-content">
			<li class="nav-item">
                <a id="footerMailLink" class="nav-link footer-mail" style="color:white;" target="_blank" href="#" onclick="gtag('event', 'EmailShare', {'event_category': 'share', 'event_label':'labelemail'});" title="Share by Email">Share: Email</a>
			</li>
            <li>
                <a id="footerTwitterLink" class="nav-link footer-twitter" href="https://twitter.com/intent/tweet" style="color:white;" onclick="gtag('event', 'TwitterShare', {'event_category': 'share', 'event_label':'labeltweet'});" title="Share by Twitter">Twitter</a>
            </li>
		</ul>
	</div>
    <div class="footer-right">
        <ul class="nav legal-content">
            <li class="nav-item">
                <a id="disclaimerLabel" class="nav-link footer-launch" style="color:white;" target="_blank" href="https://www.hcltechsw.com/wps/portal/legal/disclaimer">Disclaimer</a>
            </li>
            <li class="nav-item">
                <a id="privacyLabel" class="nav-link footer-launch" style="color:white;" target="_blank" href="https://www.hcltechsw.com/wps/portal/legal/privacy">Privacy</a>
            </li>
            <li class="nav-item">
                <a id="termsLabel" class="nav-link footer-launch" style="color:white;" target="_blank" href="https://www.hcltechsw.com/wps/portal/legal/terms-use">Terms of use</a>
            </li>
            <li class="nav-item">
                <a id="cookieLabel" class="nav-link footer-launch ot-sdk-show-settings" style="color:white;" href="#">Cookie Preferences</a>
            </li>
        </ul>
    </div>
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" alt=""/>
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>