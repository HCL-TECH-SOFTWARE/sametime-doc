<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<?Pub Sty _display FontColor="red"?>
<task id="plan_cluster_meetings_recorder" xml:lang="en-us">
  <title>Configuring autoscaling for recorder</title>
  <shortdesc>A recorder is used when a meeting is being recorded and when live streaming a video.
    The Kubernetes autoscaler adjusts the use of recorder pods based on settings in the
      <filepath>recorder.yaml</filepath> file.</shortdesc>
  <taskbody>
    <prereq id="prereq_cqs_zrh_rvb">To deploy the autoscaler, Promethus must be installed. See <xref
        href="installation_prometheus.dita" format="dita" scope="peer"/> for details.</prereq>
    <context>
      <p>When a recorder is being used in a meeting, it is dedicated to that meeting until the user
        stops the recorder or the meeting is stopped. At that time, the recorder is available to be
        used again. For example, if two recorders are deployed, only two meetings can be recorded at
        the same time. A recorder is not available until one of the meetings end. The live streaming
        feature is also handled by the recorder.</p>
      <p>Estimate how many recorders you may need and define the minimum and maximum number of
        recorder pods that are used by the autoscaler.</p>
    </context>
    <steps id="steps_f5r_4jn_1vb">
      <step>
        <cmd>Change directories to <filepath><varname>installation_directory</varname>/
            /kubernetes/autoscaling</filepath> directory. Where
            <varname>installation_directory</varname> is the directory the install package is
          located.</cmd>
      </step>
      <step>
        <cmd>Open the <filepath>recorder.yaml</filepath> file for editing.</cmd>
      </step>
      <step>
        <cmd>Configure the minimum number and maximum number of recorders by adjusting the following
          settings.</cmd>
        <info><codeblock id="codeblock_t33_4bj_bvb">
minReplicas: <varname>minimum_value</varname>
maxReplicas: <varname>maximum_value</varname></codeblock>For
          example:<codeblock id="codeblock_dn1_tjn_1vb">
minReplicas: 2 
maxReplicas: 10</codeblock></info>
      </step>
      <step>
        <cmd>Save and close the file.</cmd>
      </step>
      <step>
        <cmd>To deploy the recorder autoscaler, run the following command from the
            <filepath>autoscaling</filepath> directory.</cmd>
        <info>
          <codeblock id="codeblock_ijl_jpn_1vb">kubectl apply -f recorder.yaml</codeblock>
        </info>
        <info>If the autoscaler has already been deployed, you can adjust the number of recorder
          pods available. The following command can be used to adjust the number of
          recorders.<codeblock id="codeblock_m4k_vqn_1vb">kubectl edit hpa recorder</codeblock></info>
      </step>
    </steps>
  </taskbody>
</task>
<?Pub *0000001020?>
