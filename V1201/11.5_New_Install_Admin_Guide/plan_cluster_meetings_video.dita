<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<?Pub Sty _display FontColor="red"?>
<task id="plan_cluster_meetings_video" xml:lang="en-us">
  <title>Configuring autoscaling for video</title>
  <shortdesc>The Kubernetes autoscaler adjusts the use of video pods based on the configured values
    in the <filepath>video.yaml</filepath> file.</shortdesc>
  <taskbody>
    <prereq id="prereq_cqs_zrh_rvb">To deploy the autoscaler, Promethus must be installed. See <xref
        href="installation_prometheus.dita" format="dita" scope="peer"/> for details.</prereq>
    <context>
      <p>When Sametime is installed for the first time, you must deploy a
          <term>HorizontalPodAutoscaler</term>.</p>
    </context>
    <steps id="steps_qkc_yw4_1vb">
      <step>
        <cmd>Change directories to <filepath><varname>installation_directory</varname>/
            /kubernetes/autoscaling</filepath> directory. Where
            <varname>installation_directory</varname> is the directory the install package is
          located.</cmd>
      </step>
      <step>
        <cmd>Open the file <filepath>video.yaml</filepath> for editing.</cmd>
      </step>
      <step>
        <cmd>Configure the minimum number and maximum number of video pods by adjusting the
          following settings.</cmd>
        <info><codeblock id="codeblock_t33_4bj_bvb">
minReplicas: <varname>minimum_value</varname>
maxReplicas: <varname>maximum_value</varname></codeblock>For
          example:<codeblock id="codeblock_hfb_cx4_1vb">
minReplicas: 1 
maxReplicas: 3 </codeblock></info>
      </step>
      <step>
        <cmd>Save and close the <filepath>video.yaml</filepath> file.</cmd>
      </step>
      <step>
        <cmd>To deploy the video autoscaler, run the following command from the
            <filepath>autoscaling</filepath> directory.</cmd>
        <info>
          <codeblock id="codeblock_c5r_dx4_1vb">kubectl apply -f video.yaml </codeblock>
        </info>
        <info>If the autoscaler has already been deployed, you can adjust the number of video nodes
          available. The following command can be used to adjust the number of video
          nodes.<codeblock id="codeblock_m4k_vqn_1vb">kubectl edit hpa video</codeblock></info>
      </step>
    </steps>
  </taskbody>
</task>
<?Pub *0000001020?>
