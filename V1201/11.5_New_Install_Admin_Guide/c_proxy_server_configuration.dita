<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN"
 "concept.dtd">
<?Pub Sty _display FontColor="red"?>
<concept id="proxy_server_configuration" xml:lang="en-us">
 <title>Configuring Sametime Proxy Server</title>
 <shortdesc>Based on the responses during installation, settings will be stored in the following files:</shortdesc>
 <conbody>
  <p><ul>
   <li><codeph>sametimeproxy\setenv.bat (setenv.sh)</codeph></li>
   <li><codeph>sametimeproxy\conf\stproxyconfig.xml</codeph></li>
   <li><codeph>sametimeproxy\conf\dbconfig.properties</codeph></li>
  </ul></p>
  <p>After installation, these configuration files can be manually edited to alter the server's configuration.</p>
  <p><note>Changes to <codeph>stproxyconfig.xml</codeph> are automatically read, without needing a server restart but may take up to 30 mins. If you have an existing Sametime Proxy server (v9 or V10) with settings specific to your environment, those settings can be copied to the new stproxyconfig.xml as needed.</note></p>
  <p>To start the server: </p>
  <p><codeph>sametimeproxy\bin\startup.bat (startup.sh)</codeph></p>
  <p>To stop the server: </p>
  <p><codeph>sametimeproxy\bin\shutdown.bat (shutdown.sh)</codeph></p>
  <p><note><ul>
   <li>If the server hangs during shutdown, kill the process.</li>
   <li>If this server is on a separate host, be sure to add it's IP to the Trusted IPs of the Sametime Community server. Stconfig.nsf > Community Connectivity: Community Trusted IPS. Use colon to separate lists of IPs to be trusted. (192.168.1.5: 192.168.1.10, etc).</li>
   <li>If MongoDB is running on Windows, it may be required for the Windows server’s domain name to be in the proxy server’s DNS hosts file. For example, if the Windows server’s domain name is, “WIN-SERVERNAME” then the Sametime Proxy should add this in its host file.</li>
  </ul></note></p>
  <p><b>Example:</b><codeph># mapping the windows domain name of the MongoDB to this uservers hosts file, so redirects will work</codeph></p>
  <p><codeph>10.123.55.55 WIN-SERVERNAME</codeph></p>
  <p><b>Common Questions</b></p>
  <p><b>MongoDB is on a different machine</b></p>
  <p>For more information on how to correctly configure MongoDB host, see <xref
    href="https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0076424"
    format="html" scope="external">MongoDB host configuration</xref>.  </p>
  <p><b>How to change the default TLS certificate</b></p>
  <p></p>
  <p><b>How to change the ports</b></p>
  <p>For more information on how to change the ports, see <xref
    href="https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0076425"
    format="html" scope="external">How to change the default ports</xref>. </p>
  <p><b>Can I disable HTTP -> HTTPS redirection</b></p>
  <p>For more information on how to disable HTTP to HTTPS redirection, see <xref
    href="https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0076426"
    format="html" scope="external">Disable HTTP->HTTPS redirection</xref>. </p>
  <p><b>How to set/capture debug information</b></p>
  <p>For more information on how to set/capture debug information, see <xref
    href="https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0076434"
    format="html" scope="external">Enable tracing</xref>. </p>
  <p><b>Creating a service</b>
   <ul><li><xref href="https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0074805"
    format="html" scope="external">Windows</xref></li>
    <li><xref
     href="https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0075801"
     format="html" scope="external">Linux</xref></li></ul></p>
 </conbody>
</concept>
<?Pub *0000001020?>
